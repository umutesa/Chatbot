<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>South African Food Chatbot</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background: #fffbe7;
      color: #222;
    }
    .chatbox {
      border: 1px solid #d6c08d;
      border-radius: 8px;
      padding: 16px;
      width: 350px;
      max-width: 100%;
      height: 400px;
      overflow-y: auto;
      background: #fffde3;
      margin-bottom: 12px;
    }
    .user, .bot {
      margin: 8px 0;
      padding: 8px;
      border-radius: 6px;
      max-width: 80%;
    }
    .user {
      background: #ffe5a2;
      align-self: flex-end;
      text-align: right;
      margin-left: 20%;
    }
    .bot {
      background: #e2d3b2;
      align-self: flex-start;
      text-align: left;
      margin-right: 20%;
    }
    .input-area {
      display: flex;
    }
    input[type="text"] {
      flex: 1;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #d6c08d;
      margin-right: 8px;
    }
    button {
      padding: 8px 18px;
      border: none;
      border-radius: 6px;
      background: #d6c08d;
      color: #333;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background: #c2a75d;
    }
  </style>
</head>
<body>
  <h2>South African Food Chatbot üáøüá¶üç≤</h2>
  <div class="chatbox" id="chatbox"></div>
  <form class="input-area" id="chat-form" autocomplete="off">
    <input type="text" id="user-input" placeholder="Ask about South African food..." required />
    <button type="submit">Send</button>
  </form>
  <script>
    const qa = [
      {
        q: /bunny chow/i,
        a: "Bunny chow is a popular South African fast food dish from Durban. It's a hollowed-out loaf of bread filled with curry, often made with chicken, lamb, or beans."
      },
      {
        q: /braai|bbq/i,
        a: "A braai is a South African barbecue, where meat like boerewors (sausages), steak, and chicken are grilled over wood or charcoal. It's a social event and tradition!"
      },
      {
        q: /boerewors/i,
        a: "Boerewors is a famous South African sausage made from beef, sometimes with pork or lamb. It's spiced with coriander, cloves, and nutmeg, and usually cooked on a braai."
      },
      {
        q: /biltong/i,
        a: "Biltong is air-dried, cured meat, usually beef or game, spiced with vinegar, coriander, and pepper. It's a popular snack, similar to beef jerky but thicker and less sweet."
      },
      {
        q: /malva pudding/i,
        a: "Malva pudding is a sweet, spongy dessert of Cape Dutch origin. It's made with apricot jam and served hot with a creamy sauce."
      },
      {
        q: /pap/i,
        a: "Pap is a staple food in South Africa, made from maize meal (cornmeal). It's similar to polenta and often served with tomato sauce, gravy, or meat (like chakalaka or wors)."
      },
      {
        q: /chakalaka/i,
        a: "Chakalaka is a spicy relish made with vegetables like tomatoes, onions, and beans. It's often served with pap, bread, or meat at a braai."
      },
      {
        q: /koeksister/i,
        a: "Koeksisters are a traditional South African sweet treat: twisted dough, deep-fried and soaked in syrup. Crispy on the outside and syrupy inside!"
      },
      {
        q: /bobotie/i,
        a: "Bobotie is a Cape Malay dish: spiced minced meat baked with an egg-based topping, often served with yellow rice and chutney."
      },
      {
        q: /milk tart|melktert/i,
        a: "Milk tart (melktert) is a classic South African dessert: a sweet pastry crust filled with a creamy custard, topped with cinnamon."
      },
      {
        q: /samoosa|samosa/i,
        a: "Samoosas are fried or baked pastry pockets filled with spiced meat, vegetables, or cheese. They're a popular snack, influenced by Indian cuisine."
      },
      {
        q: /what.*are.*popular.*south african.*foods|famous.*south african.*dishes|classic.*south african.*meals/i,
        a: "Popular South African foods include braai (BBQ), boerewors, biltong, bunny chow, pap, chakalaka, bobotie, malva pudding, and koeksisters."
      }
    ];

    const fallback = "Sorry, I don't know that one yet! Try asking about South African foods, dishes, or snacks.";

    const chatbox = document.getElementById("chatbox");
    const chatForm = document.getElementById("chat-form");
    const userInput = document.getElementById("user-input");

    function addMessage(text, sender) {
      const div = document.createElement("div");
      div.className = sender;
      div.textContent = text;
      chatbox.appendChild(div);
      chatbox.scrollTop = chatbox.scrollHeight;
    }

    function botReply(input) {
      for (let { q, a } of qa) {
        if (q.test(input)) return a;
      }
      return fallback;
    }

    chatForm.addEventListener("submit", e => {
      e.preventDefault();
      const input = userInput.value.trim();
      if (!input) return;
      addMessage(input, "user");
      const answer = botReply(input);
      setTimeout(() => addMessage(answer, "bot"), 400);
      userInput.value = "";
    });

    // Greet on load
    addMessage("Hello! Ask me anything about South African food. üçΩÔ∏è", "bot");
  </script>
</body>
</html>
